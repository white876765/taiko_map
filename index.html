<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>太鼓の達人 設置店舗マップ</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"/>

<style>
html, body {
  height: 100%;
  margin: 0;
}
#map {
  width: 100%;
  height: 100%;
}

#searchBox {
  width: 100%;
  padding: 4px 12px 4px 6px;
  box-sizing: border-box;
}

#controls {
  position: absolute;
  top: 10px;
  left: 10px;
  z-index: 1000;
  background: white;
  padding: 8px 10px;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(0,0,0,.2);
  font-size: 13px;
}

#controls button {
  margin: 2px 4px 4px 0;
  padding: 2px 6px;
  font-size: 12px;
}

#stats {
  margin-top: 6px;
  font-weight: bold;
}

.mobile-only {
  display: none;
}

@media (max-width: 768px) {
  #controls {
    display: none;
    max-width: 90vw;
    top: 50px;
  }
  .mobile-only {
    display: block;
    position: absolute;
    top: 10px;
    left: 10px;
    z-index: 1100;
    padding: 6px 10px;
    background: white;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,.3);
  }
}

</style>
</head>

<body>

<button id="toggleControls" class="mobile-only">
  フィルタ
</button>
<div id="controls">
  <input
    type="text"
    id="searchBox"
    placeholder="店舗名で検索"
    style="width: 100%; margin-bottom: 6px; padding: 4px;"
  >

  <strong>台数フィルタ</strong><br>

  <button id="selectAll">全選択</button>
  <button id="clearAll">全解除</button>
  <br><br>

  <label><input type="checkbox" class="machineFilter" value="1"> 1台</label><br>
  <label><input type="checkbox" class="machineFilter" value="2"> 2台</label><br>
  <label><input type="checkbox" class="machineFilter" value="3"> 3台</label><br>
  <label><input type="checkbox" class="machineFilter" value="4"> 4台</label><br>
  <label><input type="checkbox" class="machineFilter" value="5"> 5台</label><br>
  <label><input type="checkbox" class="machineFilter" value="6-7"> 6–7台</label><br>
  <label><input type="checkbox" class="machineFilter" value="8-9"> 8–9台</label><br>
  <label><input type="checkbox" class="machineFilter" value="10+"> 10台以上</label>

  <div id="stats"></div>

  <hr>
  <strong>都道府県</strong><br>

  <select id="prefFilter">
    <option value="ALL">すべて</option>
  </select>
</div>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

<script src="map.js"></script>

</body>
</html>
